---
layout: light
title: iOS, Ejecta & WebGL
subtitle: Building WebGL apps with Ejecta <h4>[Japanese]</h4>
location: |
  @Microsoft, Japan
description: |
  WebGL Meetup presentation
author: Ally Ogilvie
date: June 13th 2014
twitter: allyogilvie
---


<section>
	<h1 style="font-size: 100px">iOS, Ejecta & WebGL</h1>
	<h3>@Microsoft, Japan</h3>
	<p>
		<small>Created by <a href="http://wizcorp.jp">Ally Ogilvie</a> / <a href="http://twitter.com/allyogilvie">@allyogilvie</a>, June 13th 2014</small>
	</p>
	<aside class="notes">
	// Notes

	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>Today's simple WebGL sample</h4>
	<div id="container"></div>
	<aside class="notes">
	
	</aside>
</section>

<section>
	<h2>[Japanese]</h2>
	<h3>The challenge...</h3>
	<br />

	<aside class="notes">
and the challenge today...
	</aside>
</section>

<section>
	<h3>iOS 6のアプリ!</h3>
	<h4> iOS 6 app! xD</h4>
	<img height="300px" src="./assets/image/ejecta_webgl/wtf.gif">
	<img height="300px" class="fragment" src="./assets/image/ejecta_webgl/wtf2.gif">
	<img height="200px" class="fragment" src="./assets/image/ejecta_webgl/wtf3.gif">
	<aside class="notes">
Create an iOS 6 application with WebGL!
Thats.. just not possible right?? I have to wait for iOS 8 and stuff..
Well not quite..
	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>Oh tell me mOar..</h4>
	<br />
	<img height="400px" src="./assets/image/ejecta_webgl/tell-me-more.gif">
	<aside class="notes">
Got your attention now?
	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>Ejecta! (for iOS)</h4>
	<img src="./assets/image/ejecta_webgl/ejectalogo.png">
	<br />

	<ul>
		<li class="fragment">Written by Team PhobosLab [@phoboslab]</li>
		<li class="fragment">Supports iOS 5.0+</li>
		<li class="fragment">Runs 2d and webgl canvas commands</li>
		<li class="fragment">Git clone https://github.com/phoboslab/Ejecta.git</li>
	</ul>
	<aside class="notes">
Created by Team Phoboslab 

Main developer DOMINIC SZABLEWSKI [sha-BLEF-ski]

Supports ios 5 +

Supports 2d and webgl canvas
	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>How does it work?</h4>
	<br />
	<img src="./assets/image/ejecta_webgl/ejectadiagram.png" alt="diagram here" />

	<aside class="notes">
Ejecta has 2 main component: JavaScriptCore and OpenGL ES view.


	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>JavaScriptCore?</h4>
	<br />
	<img src="./assets/image/ejecta_webgl/javascriptcorediagram.png" alt="diagram here" />

	<aside class="notes">
JavaScriptCore is a framework inside part of WebKit, which is a part of Safari and iOS
	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>JavaScriptCore + OpenGL ES...</h4>
	<br />

	<aside class="notes">
Code is executed in JavaScriptCore which controls Objective-C bindings to Open GLES, The result is output to a OpenGL ES view.
	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>Back to our demo...</h4>
	<br />
	<img src="./assets/image/ejecta_webgl/ourdemo.png" alt="example demo" /><br />
	<img src="./assets/image/ejecta_webgl/threejslogo.png" alt="three.js logo" />
	
	<aside class="notes">
Let's run our three.js demo in Ejecta!

We already cloned this repository. Let's add our Javascript files.

[create App folder, img folder, add js files.]

[prompt iOS 5.1.1 compatibility]


CATCH! ... 

	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>It doesn't work!?</h4>
	<br />
	<p>WHY!??</p>
	<img src="./assets/image/ejecta_webgl/why.gif" alt="WHHYYYY?!" />

	<aside class="notes">
It does not work!?
Why... ah, because~~
	</aside>
</section>


<section>
	<h3>[Japanese]</h3>
	<h4>The catch!</h4>
	<br />
	<p>There is no real DOM!</p>
	<ul>
		<li class="fragment" style='width: 700px'>
<pre><code>renderer = new THREE.WebGLRenderer();
container = document.getElementById( 'container' );
container.appendChild( renderer.domElement );
</code></pre>
		</li>
		<li class="fragment"><pre><code>new THREE.OrbitControls(camera);</code></pre></li>
	</ul>
	<aside class="notes">

CATCH!
This demo is using common canvas library "Three.js"

Ejecta has NO DOM...

	</aside>
</section>


<section>
	<h3>[Japanese]</h3>
	<h4>Modifications</h4>
	<br />
<pre class="fragment"><code>renderer = new THREE.WebGLRenderer();
container = document.getElementById( 'container' );
container.appendChild( renderer.domElement );
</code></pre>
<p class="fragment">Becomes...</p>
<pre class="fragment"><code>renderer = new THREE.WebGLRenderer( 
	{ canvas: document.getElementById( 'canvas' ) })</code></pre>

	<aside class="notes">

We need to make some minor modifications

We pass in a fake Ejecta canvas element to the constructor or WebGLRenderer.

	</aside>
</section>

<section>
	<h3>[Japanese]</h3>
	<h4>Modifications (part 2)</h4>
<pre class="fragment"><code>new THREE.OrbitControls(camera);</code></pre>
</code></pre>
<p class="fragment">Inside OrbitControls...</p>
<pre class="fragment"><code>function touchMove { ...
	var element = scope.domElement === document ? scope.domElement.body : scope.domElement;
... }
</code></pre>
<p class="fragment">Becomes...</p>
<pre class="fragment"><code>var element = scope.domElement === document ? scope.domElement.body : scope.domElement;
if (window.ejecta) {
	element.clientHeight = window.innerHeight;
	element.clientWidth = window.innerHeight;
}</code></pre>

	<aside class="notes">
Then we need to modify our camera controller to get the correct width and height of Ejecta.
Let’s do this, and compile again.
	</aside>
</section>


<section data-transition="zoom">
	<h2>Thank you & Links</h2>
	<div id="spacer" style="margin-top:100px"></div>
	<h4>Ejecta iOS @Github</h4> 
	<a href="https://github.com/phoboslab/Ejecta" target="_blank">https://github.com/phoboslab/Ejecta</a>
	<br />
	<br />
	<h4>Ejecta Android @Github</h4> 
	<a href="https://github.com/wizcorp/Ejecta-X" target="_blank">https://github.com/wizcorp/Ejecta-X</a>
	<br />
	<br />
	<h4>Me @Twitter</h4>
	<a href="http://twitter.com/allyogilvie" target="_blank">@allyogilvie</a>
	<aside class="notes">
ijo desu. Arigatou gozaimashita
	</aside>
</section>


<script type="text/javascript">
	var scripts = [
	    "assets/js/ejecta_webgl/three.min.js",
	    "assets/js/ejecta_webgl/OrbitControls.js",
	    "assets/js/ejecta_webgl/webGLDemo.js",
	];
	
	for (var i = 0; i < scripts.length; i++) {
	    var script = document.createElement('script');
	    script.type = 'text/javascript';
	    script.src = scripts[i];
	    script.async = false;
	    document.body.appendChild(script);
	}
	animate();
</script>
